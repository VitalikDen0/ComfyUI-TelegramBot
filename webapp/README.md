# ComfyUI Telegram WebApp

–ú–∏–Ω–∏-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ (Telegram WebApp/Mini App) –¥–ª—è –ø—Ä–æ—Å–º–æ—Ç—Ä–∞ –≥—Ä–∞—Ñ–∞ ComfyUI, –∫–æ—Ç–æ—Ä–æ–µ –±–æ—Ç –≤—ã–¥–∞—ë—Ç –ø–æ –∫–Ω–æ–ø–∫–µ ¬´üìä –í–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è (Mini App)¬ª.

## –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

- –ß—Ç–µ–Ω–∏–µ workflow –ø–æ `sid` —á–µ—Ä–µ–∑ API –±–æ—Ç–∞: `GET /api/workflow/{sid}`.
- –û—Ç—Ä–∏—Å–æ–≤–∫–∞ –≥—Ä–∞—Ñ–∞ –≤ React Flow (read-only), —Å fallback-—Å–µ—Ç–∫–æ–π, –µ—Å–ª–∏ –Ω–µ—Ç —Å–æ—Ö—Ä–∞–Ω—ë–Ω–Ω—ã—Ö –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç.
- –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å Telegram WebApp SDK (`ready`, `expand`, —Ü–≤–µ—Ç–∞ —Ç–µ–º—ã, alert –ø—Ä–∏ –æ—à–∏–±–∫–∞—Ö).
- –¢—ë–º–Ω–∞—è —Ç–µ–º–∞ –∏ –º–æ–±–∏–ª—å–Ω–∞—è –∞–¥–∞–ø—Ç–∞—Ü–∏—è.

## –ö–∞–∫ —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç

1. –í –±–æ—Ç–µ –∂–º—ë–º ¬´üìä –í–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è (Mini App)¬ª. –ë–æ—Ç —Å–æ–∑–¥–∞—ë—Ç —Å–µ—Å—Å–∏—é `sid` –∏ –æ—Ç–¥–∞—ë—Ç —Å—Å—ã–ª–∫—É `?sid=...`.
2. Front –∑–∞–ø—Ä–∞—à–∏–≤–∞–µ—Ç `GET {VITE_API_BASE}/api/workflow/{sid}`.
3. API –±–æ—Ç–∞ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç workflow ‚Üí WebApp —Ä–∏—Å—É–µ—Ç –≥—Ä–∞—Ñ.

## –ó–∞–ø—É—Å–∫ —Ñ—Ä–æ–Ω—Ç–∞ –ª–æ–∫–∞–ª—å–Ω–æ

```bash
cd webapp
npm install
npm run dev -- --host
```

–ü—Ä–æ–¥–∞–∫—à–Ω-—Å–±–æ—Ä–∫–∞:

```bash
npm run build
```

–°–±–æ—Ä–∫–∞ –ø–æ–ø–∞–¥—ë—Ç –≤ `webapp/dist`. –ï—Å–ª–∏ –≤ `.env` –±–æ—Ç–∞ –≤–∫–ª—é—á–∏—Ç—å `WEBAPP_SERVE_ENABLED=true`, –±–æ—Ç –±—É–¥–µ—Ç —Ä–∞–∑–¥–∞–≤–∞—Ç—å —ç—Ç—É –ø–∞–ø–∫—É —Å—Ç–∞—Ç–∏–∫–æ–π –Ω–∞ `http://<WEBAPP_API_HOST>:<WEBAPP_API_PORT>/`.

## –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è —Ñ—Ä–æ–Ω—Ç–∞

- `VITE_API_BASE` ‚Äî –±–∞–∑–æ–≤—ã–π URL API –±–æ—Ç–∞. –ï—Å–ª–∏ —Ñ—Ä–æ–Ω—Ç –∏ API –Ω–∞ –æ–¥–Ω–æ–º –¥–æ–º–µ–Ω–µ/–ø—Ä–æ–∫—Å–∏, –º–æ–∂–Ω–æ –æ—Å—Ç–∞–≤–∏—Ç—å –ø—É—Å—Ç—ã–º (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é `/api`).

## –°—Ç–∞—Ç—É—Å —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏

- –ü—Ä–æ—Å–º–æ—Ç—Ä (read-only) ‚Äî ‚úÖ
- –ó–∞–≥—Ä—É–∑–∫–∞ –ø–æ sid –∏ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å Telegram ‚Äî ‚úÖ
- –ê–≤—Ç–æ-—Ä–∞—Å–∫–ª–∞–¥–∫–∞ ‚Äî ‚ö†Ô∏è –±–∞–∑–æ–≤–∞—è —Å–µ—Ç–∫–∞, –±–µ–∑ —É–º–Ω–æ–π –∫–æ–º–ø–æ–Ω–æ–≤–∫–∏.
- –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ/–æ—Ç–ø—Ä–∞–≤–∫–∞ –∏–∑–º–µ–Ω–µ–Ω–∏–π ‚Äî ‚è≥ –Ω–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ.
- –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –ø–æ–¥—Ä–æ–±–Ω—ã—Ö –º–µ—Ç–∞–¥–∞–Ω–Ω—ã—Ö –Ω–æ–¥ ‚Äî ‚ö†Ô∏è —Ç–æ–ª—å–∫–æ –∑–∞–≥–æ–ª–æ–≤–æ–∫/—Ç–∏–ø.

## –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è

- –ù—É–∂–µ–Ω –¥–æ—Å—Ç—É–ø –ø–æ HTTPS –¥–ª—è –ø—Ä–æ–¥–∞–∫—à–Ω Mini App.
- –°–µ—Å—Å–∏–∏ `sid` –∂–∏–≤—É—Ç –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–Ω–æ–µ –≤—Ä–µ–º—è (—Å–º. –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –±–æ—Ç–∞).
